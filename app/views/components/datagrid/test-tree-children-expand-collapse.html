
<div class="row">
  <div class="twelve columns">
    <div id="datagrid">
    </div>
  </div>
</div>

<script>
  $('body').one('initialized', function () {

    // Some Sample Data
    var data = [{
      id: 1,
      escalated: 2,
      depth: 1,
      expanded: false,
      taskName: 'Follow up action with HMM Global',
      desc: '',
      comments: null,
      time: '',
      children: [{
        id: 2,
        escalated: 1,
        depth: 2,
        taskName: 'Quotes due to expire',
        desc: 'Update pending quotes and send out again to customers.',
        comments: 3,
        time: '7:10 AM'
      },
      {
        id: 3,
        escalated: 0,
        depth: 2,
        taskName: 'Follow up action with Universal Shipping Logistics Customers',
        desc: 'Contact sales representative with the updated purchase order.',
        comments: 2,
        time: '9:10 AM'
      },
      {
        id: 4,
        escalated: 0,
        depth: 2,
        taskName: 'Sales Person',
        desc: 'Sales Person.',
        comments: 2,
        time: '14:10 PM'
      },
      {
        id: 5,
        escalated: 0,
        depth: 2,
        taskName: 'Address sales order line number',
        desc: 'Address sales order line number.',
        comments: 2,
        time: '14:10 PM'
      },
      {
        id: 6,
        escalated: 0,
        depth: 2,
        taskName: 'Contact sales order',
        desc: 'Contact sales order.',
        comments: 2,
        time: '14:10 PM'
      },
      {
        id: 7,
        escalated: 0,
        depth: 2,
        taskName: 'Contact name',
        desc: 'Contact sales order.',
        comments: 2,
        time: '14:10 PM'
      }]
    },
    {
      id: 8,
      escalated: 2,
      depth: 1,
      expanded: false,
      taskName: 'Follow up action with HMM Global',
      desc: '',
      comments: null,
      time: '',
      children: [{
        id: 9,
        escalated: 1,
        depth: 2,
        taskName: 'Quotes due to expire',
        desc: 'Update pending quotes and send out again to customers.',
        comments: 3,
        time: '7:10 AM'
      },
      {
        id: 10,
        escalated: 0,
        depth: 2,
        taskName: 'Follow up action with Universal Shipping Logistics Customers',
        desc: 'Contact sales representative with the updated purchase order.',
        comments: 2,
        time: '9:10 AM'
      },
      {
        id: 11,
        escalated: 0,
        depth: 2,
        taskName: 'Sales Person',
        desc: 'Sales Person.',
        comments: 2,
        time: '14:10 PM'
      },
      {
        id: 12,
        escalated: 0,
        depth: 2,
        taskName: 'Address sales order line number',
        desc: 'Address sales order line number.',
        comments: 2,
        time: '14:10 PM'
      },
      {
        id: 13,
        escalated: 0,
        depth: 2,
        taskName: 'Contact sales order',
        desc: 'Contact sales order.',
        comments: 2,
        time: '14:10 PM'
      },
      {
        id: 14,
        escalated: 0,
        depth: 2,
        taskName: 'Contact name',
        desc: 'Contact sales order.',
        comments: 2,
        time: '14:10 PM',
        children: [{
          id: 15,
          escalated: 1,
          depth: 3,
          taskName: 'Quotes due to expire',
          desc: 'Update pending quotes and send out again to customers.',
          comments: 3,
          time: '7:10 AM'
        },
        {
          id: 16,
          escalated: 0,
          depth: 3,
          taskName: 'Follow up action with Universal Shipping Logistics Customers',
          desc: 'Contact sales representative with the updated purchase order.',
          comments: 2,
          time: '9:10 AM'
        },
        {
          id: 17,
          escalated: 0,
          depth: 3,
          taskName: 'Sales Person',
          desc: 'Sales Person.',
          comments: 2,
          time: '14:10 PM'
        },
        {
          id: 18,
          escalated: 0,
          depth: 3,
          taskName: 'Address sales order line number',
          desc: 'Address sales order line number.',
          comments: 2,
          time: '14:10 PM'
        },
        {
          id: 19,
          escalated: 0,
          depth: 3,
          taskName: 'Contact sales order',
          desc: 'Contact sales order.',
          comments: 2,
          time: '14:10 PM',
          children: [{
            id: 20,
            escalated: 1,
            depth: 4,
            taskName: 'Quotes due to expire',
            desc: 'Update pending quotes and send out again to customers.',
            comments: 3,
            time: '7:10 AM'
          },
          {
            id: 21,
            escalated: 0,
            depth: 4,
            taskName: 'Follow up action with Universal Shipping Logistics Customers',
            desc: 'Contact sales representative with the updated purchase order.',
            comments: 2,
            time: '9:10 AM'
          },
          {
            id: 22,
            escalated: 0,
            depth: 4,
            taskName: 'Sales Person',
            desc: 'Sales Person.',
            comments: 2,
            time: '14:10 PM'
          },
          {
            id: 23,
            escalated: 0,
            depth: 4,
            taskName: 'Address sales order line number',
            desc: 'Address sales order line number.',
            comments: 2,
            time: '14:10 PM'
          },
          {
            id: 24,
            escalated: 0,
            depth: 4,
            taskName: 'Contact sales order',
            desc: 'Contact sales order.',
            comments: 2,
            time: '14:10 PM'
          },
          {
            id: 25,
            escalated: 0,
            depth: 4,
            taskName: 'Contact name',
            desc: 'Contact sales order.',
            comments: 2,
            time: '14:10 PM'
          }]
        },
        {
          id: 26,
          escalated: 0,
          depth: 3,
          taskName: 'Contact name',
          desc: 'Contact sales order.',
          comments: 2,
          time: '14:10 PM',
          children: [{
            id: 27,
            escalated: 1,
            depth: 4,
            taskName: 'Quotes due to expire',
            desc: 'Update pending quotes and send out again to customers.',
            comments: 3,
            time: '7:10 AM'
          },
          {
            id: 28,
            escalated: 0,
            depth: 4,
            taskName: 'Follow up action with Universal Shipping Logistics Customers',
            desc: 'Contact sales representative with the updated purchase order.',
            comments: 2,
            time: '9:10 AM'
          },
          {
            id: 29,
            escalated: 0,
            depth: 4,
            taskName: 'Sales Person',
            desc: 'Sales Person.',
            comments: 2,
            time: '14:10 PM'
          },
          {
            id: 30,
            escalated: 0,
            depth: 4,
            taskName: 'Address sales order line number',
            desc: 'Address sales order line number.',
            comments: 2,
            time: '14:10 PM'
          },
          {
            id: 31,
            escalated: 0,
            depth: 4,
            taskName: 'Contact sales order',
            desc: 'Contact sales order.',
            comments: 2,
            time: '14:10 PM'
          },
          {
            id: 32,
            escalated: 0,
            depth: 4,
            taskName: 'Contact name',
            desc: 'Contact sales order.',
            comments: 2,
            time: '14:10 PM'
          }]
        }]
      }]
    }];

    // Define Columns for the Grid
    var columns = [];
    columns.push({ id: 'selectionCheckbox', sortable: false, resizable: false, width: 50, formatter: Formatters.SelectionCheckbox, align: 'center'});
    columns.push({ id: 'id', name: 'Id', field: 'id', formatter: Formatters.Hyperlink});
    columns.push({ id: 'taskName', name: 'Task', field: 'taskName', expanded: 'expanded', formatter: Formatters.Tree});
    columns.push({ id: 'desc', name: 'Description', field: 'desc'});
    columns.push({ id: 'time', name: 'Time', field: 'time'});

    // initialize the Grid
    $('#datagrid').datagrid({
      columns: columns,
      dataset: data,
      selectable: 'multiple',
      treeGrid: true,
      toolbar: { title: 'Tasks (Hierarchical)', results: true, personalize: true }
    });

  });
</script>
