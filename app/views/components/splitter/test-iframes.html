<div class="page-container two-column fixed">

  <section class="sidebar" role="main">
    <div class="content">
      <div class="splitter splitter-right" id="splitter-right-1" data-options="{resize: 'end'}"></div>
      <iframe id="iframe-1" name="iframe-1" class="iframe-1" src="" style="height: 100%; width: 100%;"></iframe>
    </div>
  </section>

  <section class="main">
    <div class="content">
      <iframe id="iframe-2" name="iframe-2" class="iframe-2" src="" style="height: 100%; width: 100%;"></iframe>
    </div>
  </section>

</div>


<script id="test-script-splitter-iframe">
  $('body').on('initialized', function () {

    // Variables
    var iframe1 = {
      src: '/components/checkboxes/example-index.html',
      el: $('#iframe-1')
    }
    var iframe2 = {
      src: '/components/editor/example-index.html',
      el: $('#iframe-2')
    }

    // Get theme uri
    function themeUri(theme) {
      var uri = '?layout=nofrills';
      var themeArr = (theme || '').split('-');
      if (themeArr.length === 3) {
        uri += '&theme='+ themeArr[1] +'&variant='+ themeArr[2];
      };
      return uri;
    }

    // Setup iframe src attribute
    function iframeSetup(theme) {
      var uri = themeUri(theme);
      iframe1.el.attr('src', (iframe1.src + uri));
      iframe2.el.attr('src', (iframe2.src + uri));
    }

    // Bind to update on theme changed
    $('html').on('themechanged', function (e, args) {
      var theme = args ? args.theme : null;
      iframeSetup(theme);
    });

    // Init on load
    iframeSetup();

  });
</script>
